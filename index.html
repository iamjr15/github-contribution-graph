<!DOCTYPE html>
<html>
    <head>
        <title>GitHub Contribution Graph</title>
        <link rel="icon" type="image/svg+xml" href="./assets/media/favicon.svg">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./assets/css/index.css">
        <link rel="stylesheet" href="./assets/css/gh.css">
    </head>
    <body>
        <div class="grid-bg"></div>
        <!-- Crosshair removed -->

        <div class="main-container">
            <h1>GITHUB CONTRIBUTION GRAPH</h1>
            
            <div class="input-group">
                <div class="input-controls">
                    <input type="text" id="usernameInput" class="input-field" placeholder="ENTER_USERNAME" value="iamjr15">
                    <button id="loadBtn" class="input-button">FETCH</button>
                </div>
                
                <div class="theme-picker">
                    <div class="theme-btn active" data-theme="void" title="Void (Default)"></div>
                    <div class="theme-btn" data-theme="slate" title="Slate (Textured)"></div>
                    <div class="theme-btn" data-theme="midnight" title="Midnight (Deep Indigo)"></div>
                    <div class="theme-btn" data-theme="glacier" title="Glacier (Light)"></div>
                    <div class="theme-btn" data-theme="cyber" title="Cyber (Neon)"></div>
                </div>
            </div>

            <div id="gh" data-login="iamjr15"></div>

            <div class="meta-info">
                <div class="meta-item"><div class="status-dot"></div> SYSTEM ONLINE</div>
            </div>

            <div class="docs-section">
                <h2>// INTEGRATION</h2>

                <div class="code-block">
                    <div class="code-header">
                        HTML
                        <button class="copy-btn" data-target="snippet-html">COPY</button>
                    </div>
                    <pre><code id="snippet-html"><span class="code-tag">&lt;!-- 1. Include the styles --&gt;</span>
<span class="code-tag">&lt;link</span> <span class="code-attr">rel</span>=<span class="code-string">"stylesheet"</span> <span class="code-attr">href</span>=<span class="code-string">"https://github-contribution-graph.netlify.app/assets/css/gh.css"</span><span class="code-tag">&gt;</span>
<span class="code-tag">&lt;style&gt;</span>
  :root {
    <span id="css-vars-snippet">/* Void Theme */
    --gh-bg-color: #000000;
    --gh-text-default-color: #ffffff;
    --gh-cell-level0-color: #111111;
    --gh-border-card-color: #333333;</span>
  }
<span class="code-tag">&lt;/style&gt;</span>

<span class="code-tag">&lt;!-- 2. Create the container --&gt;</span>
<span class="code-tag">&lt;div</span> <span class="code-attr">id</span>=<span class="code-string">"gh"</span> <span class="code-attr">data-login</span>=<span class="code-string">"<span class="dynamic-username">iamjr15</span>"</span><span class="code-tag">&gt;&lt;/div&gt;</span>

<span class="code-tag">&lt;!-- 3. Include the script --&gt;</span>
<span class="code-tag">&lt;script</span> <span class="code-attr">src</span>=<span class="code-string">"https://github-contribution-graph.netlify.app/assets/js/gh.js"</span><span class="code-tag">&gt;&lt;/script&gt;</span></code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        REACT
                        <button class="copy-btn" data-target="snippet-react">COPY</button>
                    </div>
                    <pre><code id="snippet-react"><span class="code-keyword">import</span> { useEffect } <span class="code-keyword">from</span> <span class="code-string">'react'</span>;

<span class="code-keyword">const</span> ContributionGraph = () => {
  useEffect(() => {
    <span class="code-keyword">const</span> link = document.createElement(<span class="code-string">'link'</span>);
    link.rel = <span class="code-string">'stylesheet'</span>;
    link.href = <span class="code-string">'https://github-contribution-graph.netlify.app/assets/css/gh.css'</span>;
    document.head.appendChild(link);

    <span class="code-keyword">const</span> script = document.createElement(<span class="code-string">'script'</span>);
    script.src = <span class="code-string">'https://github-contribution-graph.netlify.app/assets/js/gh.js'</span>;
    script.async = <span class="code-keyword">true</span>;
    document.body.appendChild(script);

    <span class="code-keyword">return</span> () => {
      document.head.removeChild(link);
      document.body.removeChild(script);
    };
  }, []);

  <span class="code-keyword">return</span> (
    <span class="code-tag">&lt;&gt;</span>
      <span class="code-tag">&lt;style&gt;</span>{`
        :root {
<span id="react-css-vars-snippet">          --gh-bg-color: #000000;
          --gh-text-default-color: #ffffff;
          --gh-cell-level0-color: #111111;
          --gh-border-card-color: #333333;</span>
        }
      `}<span class="code-tag">&lt;/style&gt;</span>
      <span class="code-tag">&lt;div</span> <span class="code-attr">id</span>=<span class="code-string">"gh"</span> <span class="code-attr">data-login</span>=<span class="code-string">"<span class="dynamic-username">iamjr15</span>"</span> /<span class="code-tag">&gt;</span>
    <span class="code-tag">&lt;/&gt;</span>
  );
};</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        VUE 3
                        <button class="copy-btn" data-target="snippet-vue">COPY</button>
                    </div>
                    <pre><code id="snippet-vue"><span class="code-tag">&lt;template&gt;</span>
  <span class="code-tag">&lt;div</span> <span class="code-attr">id</span>=<span class="code-string">"gh"</span> <span class="code-attr">:data-login</span>=<span class="code-string">"username"</span><span class="code-tag">&gt;&lt;/div&gt;</span>
<span class="code-tag">&lt;/template&gt;</span>

<span class="code-tag">&lt;script setup&gt;</span>
<span class="code-keyword">import</span> { onMounted, onUnmounted } <span class="code-keyword">from</span> <span class="code-string">'vue'</span>;

<span class="code-keyword">const</span> props = defineProps({ username: String });
<span class="code-keyword">let</span> link, script;

onMounted(() => {
  link = document.createElement(<span class="code-string">'link'</span>);
  link.rel = <span class="code-string">'stylesheet'</span>;
  link.href = <span class="code-string">'https://github-contribution-graph.netlify.app/assets/css/gh.css'</span>;
  document.head.appendChild(link);

  script = document.createElement(<span class="code-string">'script'</span>);
  script.src = <span class="code-string">'https://github-contribution-graph.netlify.app/assets/js/gh.js'</span>;
  script.async = <span class="code-keyword">true</span>;
  document.body.appendChild(script);
});

onUnmounted(() => {
  <span class="code-keyword">if</span> (link) document.head.removeChild(link);
  <span class="code-keyword">if</span> (script) document.body.removeChild(script);
});
<span class="code-tag">&lt;/script&gt;</span>

<span class="code-tag">&lt;style&gt;</span>
  :root {
    <span id="vue-css-vars-snippet">/* Void Theme */
    --gh-bg-color: #000000;
    --gh-text-default-color: #ffffff;
    --gh-cell-level0-color: #111111;
    --gh-border-card-color: #333333;</span>
  }
<span class="code-tag">&lt;/style&gt;</span></code></pre>
                </div>
            </div>

            <footer class="site-footer">
                Built with &hearts; by <a href="https://jigyansurout.com/" target="_blank">Jigyansu Rout</a>
            </footer>
        </div>
        
        <script src="./assets/js/gh.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const input = document.getElementById('usernameInput');
                const btn = document.getElementById('loadBtn');
                const ghContainer = document.getElementById('gh');
                const dynamicUsernames = document.querySelectorAll('.dynamic-username');
                const copyBtns = document.querySelectorAll('.copy-btn');
                const themeBtns = document.querySelectorAll('.theme-btn');
                const cssVarsSnippet = document.getElementById('css-vars-snippet');
                const reactCssVarsSnippet = document.getElementById('react-css-vars-snippet');

                const themes = {
                    void: {
                        css: `    /* Void Theme */
    --gh-bg-color: #000000;
    --gh-text-default-color: #ffffff;
    --gh-cell-level0-color: #111111;
    --gh-border-card-color: #333333;`,
                        reactCss: `          --gh-bg-color: #000000;
          --gh-text-default-color: #ffffff;
          --gh-cell-level0-color: #111111;
          --gh-border-card-color: #333333;`,
                        vueCss: `    /* Void Theme */
    --gh-bg-color: #000000;
    --gh-text-default-color: #ffffff;
    --gh-cell-level0-color: #111111;
    --gh-border-card-color: #333333;`
                    },
                    slate: {
                        css: `    /* Slate Theme */
    --gh-bg-color: #141414;
    --gh-text-default-color: #eeeeee;
    --gh-cell-level0-color: #222222;
    --gh-border-card-color: #333333;`,
                        reactCss: `          --gh-bg-color: #141414;
          --gh-text-default-color: #eeeeee;
          --gh-cell-level0-color: #222222;
          --gh-border-card-color: #333333;`,
                        vueCss: `    /* Slate Theme */
    --gh-bg-color: #141414;
    --gh-text-default-color: #eeeeee;
    --gh-cell-level0-color: #222222;
    --gh-border-card-color: #333333;`
                    },
                    midnight: {
                        css: `    /* Midnight Theme */
    --gh-bg-color: #0f1016;
    --gh-text-default-color: #f1f5f9;
    --gh-cell-level0-color: #1e202e;
    --gh-border-card-color: #2d2a45;`,
                        reactCss: `          --gh-bg-color: #0f1016;
          --gh-text-default-color: #f1f5f9;
          --gh-cell-level0-color: #1e202e;
          --gh-border-card-color: #2d2a45;`,
                        vueCss: `    /* Midnight Theme */
    --gh-bg-color: #0f1016;
    --gh-text-default-color: #f1f5f9;
    --gh-cell-level0-color: #1e202e;
    --gh-border-card-color: #2d2a45;`
                    },
                    glacier: {
                        css: `    /* Glacier Theme */
    --gh-bg-color: #ffffff;
    --gh-text-default-color: #334155;
    --gh-cell-level0-color: #f1f5f9;
    --gh-border-card-color: #e2e8f0;`,
                        reactCss: `          --gh-bg-color: #ffffff;
          --gh-text-default-color: #334155;
          --gh-cell-level0-color: #f1f5f9;
          --gh-border-card-color: #e2e8f0;`,
                        vueCss: `    /* Glacier Theme */
    --gh-bg-color: #ffffff;
    --gh-text-default-color: #334155;
    --gh-cell-level0-color: #f1f5f9;
    --gh-border-card-color: #e2e8f0;`
                    },
                    cyber: {
                        css: `    /* Cyber Theme */
    --gh-bg-color: #000000;
    --gh-text-default-color: #00ff41;
    --gh-cell-level0-color: #001a00;
    --gh-border-card-color: #003b00;`,
                        reactCss: `          --gh-bg-color: #000000;
          --gh-text-default-color: #00ff41;
          --gh-cell-level0-color: #001a00;
          --gh-border-card-color: #003b00;`,
                        vueCss: `    /* Cyber Theme */
    --gh-bg-color: #000000;
    --gh-text-default-color: #00ff41;
    --gh-cell-level0-color: #001a00;
    --gh-border-card-color: #003b00;`
                    }
                };
                
                // Get the new Vue snippet element
                const vueCssVarsSnippet = document.getElementById('vue-css-vars-snippet');

                function updateGraph() {
                    const username = input.value.trim();
                    if (!username) return;
                    ghContainer.dataset.login = username;
                    window.renderGitHubWidget();
                    dynamicUsernames.forEach(span => span.textContent = username);
                }

                function setTheme(themeName) {
                    // Update Body
                    if (themeName !== 'void') {
                        document.body.setAttribute('data-theme', themeName);
                    } else {
                        document.body.removeAttribute('data-theme');
                    }

                    // Update Active Button
                    themeBtns.forEach(btn => {
                        if (btn.dataset.theme === themeName) btn.classList.add('active');
                        else btn.classList.remove('active');
                    });

                    // Update Snippets
                    if (themes[themeName]) {
                        cssVarsSnippet.textContent = themes[themeName].css;
                        reactCssVarsSnippet.textContent = themes[themeName].reactCss;
                        if (vueCssVarsSnippet) vueCssVarsSnippet.textContent = themes[themeName].vueCss;
                    }
                }

                // Event Listeners
                btn.addEventListener('click', updateGraph);
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') updateGraph();
                });

                themeBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        setTheme(btn.dataset.theme);
                    });
                });

                copyBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const targetId = btn.dataset.target;
                        const codeElement = document.getElementById(targetId);
                        if (codeElement) {
                            const textToCopy = codeElement.innerText;
                            navigator.clipboard.writeText(textToCopy).then(() => {
                                const originalText = btn.textContent;
                                btn.textContent = "COPIED";
                                btn.style.borderColor = "#00ff00";
                                btn.style.color = "#00ff00";
                                setTimeout(() => {
                                    btn.textContent = originalText;
                                    btn.style.borderColor = "";
                                    btn.style.color = "";
                                }, 2000);
                            });
                        }
                    });
                });
            });
        </script>
    </body>
</html>